type Community{
    id:Int
    name:String
    manager:User
    type:String
    url:String
    users:[User] @belongsToMany
    user_count:Int
    lastUpdate:HumanDate
}

extend type Query{
    getMyCommunity(search:String,first:Int,page:Int):[Community]  @paginate(builder:"App\\GraphQL\\Queries\\GetMyCommunity") @guard
}

extend type Mutation{
    createChat(memberId:Int!):Community @guard
    createGroup(name:String!):Community @guard
    createChannel(name:String!):Community @guard
}


type Message{
    community:Community @belongsTo
    user:User @belongsTo
    body:String
    type:String
    created_at:HumanDate

}

extend type Mutation{
    CreateMessage(communityId:Int,body:String,image:Upload):Boolean @guard
}
